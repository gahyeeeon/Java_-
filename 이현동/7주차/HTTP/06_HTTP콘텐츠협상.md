### HTTP 콘텐츠 협상(Contents Negotiation)

웹브라우저가 이용자에게 알맞는 형태의 리소스를 받을 수 있도록, 리소스를 어떤 형태로 받을지 정하는 메커니즘. 이때 리소스의 형태는 문서의 언어나 이미지 포맷, 인코딩 등을 말한다.

콘텐츠 협상에는 대표적으로 두가지 방법이 있다.

- 서버 주도적 협상
  - 콘텐츠 협상의 주도권이 서버에 있음
  - 브라우저는 선호하는 설정값이 담긴 HTTP 협상 헤더를 서버에 보내고, 서버는 사용자에게 어떤 형태의 콘텐츠가 적절한지 헤더에 담긴 내용과 내부적인 알고리즘을 이용해 응답.
- 에이전트 주도적 협상
  - 콘텐츠 협상의 주도권이 클라이언트에 있음
  - 브라우저가 서버에 요청을 보내면, 서버는 사용자가 받고자 하는 리소스의 형태와 메타데이터에는 어떤것이 있는지 알리고, 클라이언트는 여기서 알맞은 형태를 고르고 다시 서버에 재요청

### 콘텐츠 협상 헤더

HTTP헤더에는 서버 주도적 협상을 일으키게 하는 특정 헤더들이 있다. 이들을 협상 헤더라고 부른다.

협상 헤더는 클라이언트가 선호하거나 우선되는 표현정보를 요청 시 함께 서버에게 전달하기 위해 사용한다.

예를 들어 클라이언트가 한국어로 된 리소스를 요구한다면, 서버에서 협상 헤더를 받고 정보를 응답하는 식으로 이루어진다.

또한, 선호 뿐만 아니라 지원 유무에도 활용될 수 있다. 이로인해 서버는 클라이언트가 지원하지 않는것들을 전송하는 트래픽 낭비를 줄일수도 있는 특징이 있다.
